---
title: "Machine Operating"
description: "Generate and upload an anomaly report for out-of-range sensor readings during a specified time window."
---

<Columns cols={2}>
  <Card title="MCP Server" icon="cloud">
    google-cloud, filesystem, excel
  </Card>
  <Card title="Local Tool" icon="terminal">
    claim_done, python_execute, handle_overlong_tool_outputs
  </Card>
</Columns>

## Instruction

A production line in the factory streams real-time data through IoT sensors into the live_sensor table of the machine_operating dataset in BigQuery. The normal operating parameter ranges (minimum/maximum values) for each machine’s sensors are defined in a configuration file named machine_operating_parameters.xlsx. Please query the live_sensor table in the machine_operating dataset in BigQuery for sensor data between 11:30 and 12:30 on August 19, 2025, and, using the parameter ranges from the Excel file, identify all readings that fall outside their normal ranges (you may choose any efficient method for comparison). Compile the final anomaly report with the fields `timestamp`, `machine_id`, `sensor_type`, `reading`, (the format of these data should be exactly the same as in the BigQuery table) and `normal_range` (min - max)  into a file named "anomaly_report.csv", save it to the workspace, and upload it to the cloud storage bucket named "iot_anomaly_reports" (create it if not exists).

## Initial State

### Local Workspace

<div className="file-tree">
<a href="https://github.com/hkust-nlp/mcpbench_dev/tree/finalpool_dev/tasks/finalpool/machine-operating/initial_workspace">workspace</a>/
└── machine_operating_parameters.xlsx
</div>

### BigQuery

You can view the raw real-time sensor data [here](https://github.com/hkust-nlp/mcpbench_dev/blob/finalpool_dev/tasks/finalpool/machine-operating/preprocess/live_sensor_data.csv).

## Model Trajectory
